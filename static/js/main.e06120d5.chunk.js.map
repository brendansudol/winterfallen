{"version":3,"sources":["App.js","index.js","util.js"],"names":["CHARACTERS","id","name","hashtag","enc","txt","encodeURIComponent","predictionHash","characters","concat","map","c","willDie","join","imgUrl","process","tweetUrl","fallenCharacters","hash","n","length","hashtags","url","window","location","origin","msg","App","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleToggleStatus","setState","prev","char","objectSpread","updateUrl","state","initialPredictions","entry","i","_this2","fallen","filter","react_default","a","createElement","className","href","_ref","key","onClick","style","height","src","alt","width","react","esm","content","arrow","rel","target","Component","predictions","slice","split","d","reduce","params","_hash$split","_hash$split2","slicedToArray","val","valGood","undefined","decodeURIComponent","assign","defineProperty","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.e06120d5.chunk.js","sourcesContent":["import Tippy from \"@tippy.js/react\";\nimport React, { Component, Fragment } from \"react\";\n\nconst CHARACTERS = [\n  { id: \"Arya\", name: \"Arya\", hashtag: \"#AryaStark\" },\n  { id: \"BranStark\", name: \"Bran\", hashtag: \"#BranStark\" },\n  { id: \"Brienne\", name: \"Brienne\", hashtag: \"#BrienneOfTarth\" },\n  { id: \"Cersei\", name: \"Cersei\", hashtag: \"#CerseiLannister\" },\n  { id: \"Daenery\", name: \"Daenerys\", hashtag: \"#DaenerysTargaryen\" },\n  { id: \"Davos\", name: \"Davos\", hashtag: \"#DavosSeaworth\" },\n  { id: \"Euron\", name: \"Euron\", hashtag: \"#EuronGreyjoy\" },\n  { id: \"Greyworm\", name: \"Greyworm\", hashtag: \"#Greyworm\" },\n  { id: \"JaimeLannister\", name: \"Jaime\", hashtag: \"#JaimeLannister\" },\n  { id: \"JohnSnow\", name: \"John Snow\", hashtag: \"#JonSnow\" },\n  { id: \"Jorah\", name: \"Jorah\", hashtag: \"#JorahMormont\" },\n  { id: \"Missandei\", name: \"Missandei\", hashtag: \"#Missandei\" },\n  { id: \"NightKing\", name: \"Night King\", hashtag: \"#NightKing\" },\n  { id: \"RedWoman\", name: \"Melisandre\", hashtag: \"#Melisandre\" },\n  { id: \"SamTarly\", name: \"Sam\", hashtag: \"#SamwellTarly\" },\n  { id: \"Sansa\", name: \"Sansa\", hashtag: \"#SansaStark\" },\n  { id: \"TheHound\", name: \"The Hound\", hashtag: \"#TheHound\" },\n  { id: \"Theon\", name: \"Theon\", hashtag: \"#TheonGreyjoy\" },\n  { id: \"TyrionLannister\", name: \"Tyrion\", hashtag: \"#TyrionLannister\" },\n  { id: \"Varys\", name: \"Varys\", hashtag: \"#Varys\" }\n];\n\nconst enc = txt => encodeURIComponent(txt);\n\nconst predictionHash = characters =>\n  `predictions=${characters.map(c => +c.willDie).join(\"\")}`;\n\nconst imgUrl = id => `${process.env.PUBLIC_URL}/img/characters/${id}.png`;\n\nconst tweetUrl = (fallenCharacters, hash) => {\n  const n = fallenCharacters.length;\n  const hashtags = fallenCharacters.map(c => c.hashtag).join(\", \");\n  const url = `${window.location.origin}/#${hash}`;\n\n  const msg = `I think ${n} main character${\n    n === 1 ? \" is\" : \"s are\"\n  } going to die in the next GoT episode (Battle of Winterfell)... ${hashtags}`;\n\n  return `https://twitter.com/intent/tweet?text=${enc(msg)}&url=${enc(url)}`;\n};\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    const { initialPredictions } = props;\n    const characters = CHARACTERS.map((entry, i) => ({\n      ...entry,\n      willDie: !!+initialPredictions[i]\n    }));\n\n    this.state = { characters };\n  }\n\n  handleToggleStatus = id => () => {\n    this.setState(\n      prev => ({\n        characters: prev.characters.map(char =>\n          char.id === id ? { ...char, willDie: !char.willDie } : char\n        )\n      }),\n      this.updateUrl\n    );\n  };\n\n  updateUrl = () => {\n    const { characters } = this.state;\n    window.location.hash = predictionHash(characters);\n  };\n\n  render() {\n    const { characters } = this.state;\n    const fallen = characters.filter(c => c.willDie);\n\n    return (\n      <div className=\"p2 mx-auto container app\">\n        <header className=\"mb2\">\n          <a className=\"text-decoration-none\" href=\"/\">\n            <h1 className=\"m0 sm-h0 serif\">The Winterfallen</h1>\n          </a>\n          <p className=\"m0 h5 sm-h4\">\n            Predict who will die in the upcoming <em>Battle of Winterfell</em>{\" \"}\n            on April 28<sup>th</sup>\n          </p>\n        </header>\n        <div className=\"flex flex-wrap mxn1 mb2  pt1\">\n          {characters.map(({ id, name, willDie }) => (\n            <div key={id} className=\"col-6 sm-col-4 px1 mb2\">\n              <button\n                className={`btn p1 h6 caps col-12 ${\n                  willDie ? \"btn-danger\" : \"btn-success\"\n                }`}\n                onClick={this.handleToggleStatus(id)}\n                style={{ height: 48 }}\n              >\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"flex items-center\">\n                    <img\n                      key={id}\n                      className=\"mr05\"\n                      src={imgUrl(id)}\n                      alt={name}\n                      width={30}\n                      height={30}\n                    />\n                    <span className=\"truncate\">{name}</span>\n                  </div>\n                  <span className=\"h2\">{willDie ? \"ðŸ˜µ\" : \"ðŸ™‚\"}</span>\n                </div>\n              </button>\n            </div>\n          ))}\n        </div>\n        <div className=\"p2 rounded results\">\n          <div>\n            I think <strong>{fallen.length}</strong> main{\" \"}\n            {fallen.length === 1 ? \"character is\" : \"characters are\"} going to\n            die in the next GoT episode...\n          </div>\n          {fallen.length > 0 && (\n            <div className=\"mt1 flex flex-wrap\">\n              {fallen.map((char, i) => (\n                <Fragment key={char.id}>\n                  {i > 0 && <span className=\"mr05\">,</span>}\n                  <span className=\"flex-inline items-center\">\n                    <img\n                      className=\"mr01\"\n                      src={imgUrl(char.id)}\n                      alt=\"\"\n                      width={18}\n                      height={18}\n                    />\n                    <span>{char.name}</span>\n                  </span>\n                </Fragment>\n              ))}\n            </div>\n          )}\n          <div className=\"mt1\">\n            <Tippy\n              content=\"If you use the suggested hashtags, the super cool character emojis will show up in your tweet once it's published to Twitter!\"\n              className=\"tooltip\"\n              arrow={true}\n            >\n              <a\n                className=\"bold h6\"\n                rel=\"noopener noreferrer\"\n                target=\"_blank\"\n                href={tweetUrl(fallen, predictionHash(characters))}\n              >\n                Share on Twitter\n              </a>\n            </Tippy>\n          </div>\n        </div>\n        <footer className=\"mt3 mb2 h6\">\n          <a href=\"/\">The Winterfallen</a> â€¢ Made by{\" \"}\n          <a\n            rel=\"noopener noreferrer\"\n            target=\"_blank\"\n            href=\"https://twitter.com/brensudol\"\n          >\n            @brensudol\n          </a>{\" \"}\n          <span className=\"xs-hide\">â€¢ I hope you're having a lovely day</span>\n        </footer>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport \"ace-css/css/ace.min.css\";\nimport \"./index.css\";\n\nimport App from \"./App\";\nimport { urlToParams } from \"./util\";\n\nconst { predictions } = urlToParams(window.location.hash);\n\nReactDOM.render(\n  <App initialPredictions={(predictions || \"\").split(\"\")} />,\n  document.getElementById(\"root\")\n);\n","export const urlToParams = str =>\n  str\n    .slice(1)\n    .split(\"&\")\n    .filter(d => d.length)\n    .reduce((params, hash) => {\n      const [key, val] = hash.split(\"=\");\n      const valGood = val === undefined ? null : decodeURIComponent(val);\n      return Object.assign(params, { [key]: valGood });\n    }, {});\n\nexport const paramsToUrl = obj =>\n  Object.entries(obj)\n    .filter(([_, val]) => val !== \"\")\n    .map(([key, val]) => `${key}=${encodeURIComponent(val)}`)\n    .join(\"&\");\n"],"sourceRoot":""}