{"version":3,"sources":["App.js","index.js","util.js"],"names":["CHARACTERS","id","name","hashtag","enc","txt","encodeURIComponent","imgUrl","characterId","concat","process","urlParams","characters","map","c","willDie","join","composeTweet","url","window","location","origin","fallen","filter","n","length","hashtags","msg","App","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleButtonClick","setState","prev","char","objectSpread","updateUrl","hash","state","initialPredictions","entry","i","_this2","react_default","a","createElement","className","href","_ref","key","onClick","style","height","src","alt","width","_ref2","esm","content","arrow","rel","target","Component","predictions","slice","split","d","reduce","params","_hash$split","_hash$split2","slicedToArray","val","valGood","undefined","decodeURIComponent","assign","defineProperty","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.c13056c8.chunk.js","sourcesContent":["import Tippy from \"@tippy.js/react\";\nimport React, { Component } from \"react\";\n\nconst CHARACTERS = [\n  { id: \"Arya\", name: \"Arya\", hashtag: \"#AryaStark\" },\n  { id: \"BranStark\", name: \"Bran\", hashtag: \"#BranStark\" },\n  { id: \"Brienne\", name: \"Brienne\", hashtag: \"#BrienneOfTarth\" },\n  { id: \"Cersei\", name: \"Cersei\", hashtag: \"#CerseiLannister\" },\n  { id: \"Daenery\", name: \"Daenerys\", hashtag: \"#DaenerysTargaryen\" },\n  { id: \"Davos\", name: \"Davos\", hashtag: \"#DavosSeaworth\" },\n  { id: \"Euron\", name: \"Euron\", hashtag: \"#EuronGreyjoy\" },\n  { id: \"Greyworm\", name: \"Greyworm\", hashtag: \"#Greyworm\" },\n  { id: \"JaimeLannister\", name: \"Jaime\", hashtag: \"#JaimeLannister\" },\n  { id: \"JohnSnow\", name: \"Jon Snow\", hashtag: \"#JonSnow\" },\n  { id: \"Jorah\", name: \"Jorah\", hashtag: \"#JorahMormont\" },\n  { id: \"Missandei\", name: \"Missandei\", hashtag: \"#Missandei\" },\n  { id: \"NightKing\", name: \"Night King\", hashtag: \"#NightKing\" },\n  { id: \"RedWoman\", name: \"Melisandre\", hashtag: \"#Melisandre\" },\n  { id: \"SamTarly\", name: \"Sam\", hashtag: \"#SamwellTarly\" },\n  { id: \"Sansa\", name: \"Sansa\", hashtag: \"#SansaStark\" },\n  { id: \"TheHound\", name: \"The Hound\", hashtag: \"#TheHound\" },\n  { id: \"Theon\", name: \"Theon\", hashtag: \"#TheonGreyjoy\" },\n  { id: \"TyrionLannister\", name: \"Tyrion\", hashtag: \"#TyrionLannister\" },\n  { id: \"Varys\", name: \"Varys\", hashtag: \"#Varys\" }\n];\n\nconst enc = txt => encodeURIComponent(txt);\n\nconst imgUrl = characterId => `${process.env.PUBLIC_URL}/img/characters/${characterId}.png`;\n\nconst urlParams = characters => `predictions=${characters.map(c => +c.willDie).join(\"\")}`;\n\nconst composeTweet = characters => {\n  const url = `${window.location.origin}/#${urlParams(characters)}`;\n\n  const fallen = characters.filter(c => c.willDie);\n  const n = fallen.length;\n  const hashtags = fallen.map(c => c.hashtag).join(\", \");\n  const msg = `I think ${n} main character${\n    n === 1 ? \" is\" : \"s are\"\n  } going to die in the next GoT episode (Battle of Winterfell)... ${hashtags}`;\n\n  return `https://twitter.com/intent/tweet?text=${enc(msg)}&url=${enc(url)}`;\n};\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    const { initialPredictions } = props;\n    const characters = CHARACTERS.map((entry, i) => ({\n      ...entry,\n      willDie: !!+initialPredictions[i]\n    }));\n\n    this.state = { characters };\n  }\n\n  handleButtonClick = id => () => {\n    this.setState(\n      prev => ({\n        characters: prev.characters.map(char =>\n          char.id === id ? { ...char, willDie: !char.willDie } : char\n        )\n      }),\n      this.updateUrl\n    );\n  };\n\n  updateUrl = () => {\n    window.location.hash = urlParams(this.state.characters);\n  };\n\n  render() {\n    const { characters } = this.state;\n    const fallen = characters.filter(c => c.willDie);\n\n    return (\n      <div className=\"p2 mx-auto container app\">\n        <header className=\"mb2\">\n          <a className=\"text-decoration-none\" href=\"/\">\n            <h1 className=\"m0 sm-h0 serif\">The Winterfallen</h1>\n          </a>\n          <p className=\"m0 line-height-3\">\n            Predict and share who you think will die in the <em>Battle of Winterfell</em>.\n          </p>\n        </header>\n        <div className=\"flex flex-wrap mxn1 mb2  pt1\">\n          {characters.map(({ id, name, willDie }) => (\n            <div key={id} className=\"col-6 sm-col-4 px1 mb2\">\n              <button\n                className={`btn btn-character p1 h6 caps col-12 ${\n                  willDie ? \"btn-danger\" : \"btn-success\"\n                }`}\n                onClick={this.handleButtonClick(id)}\n                style={{ height: 48 }}\n              >\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"flex items-center\">\n                    <img\n                      key={id}\n                      className=\"mr05\"\n                      src={imgUrl(id)}\n                      alt={name}\n                      width={30}\n                      height={30}\n                    />\n                    <span className=\"truncate\">{name}</span>\n                  </div>\n                  <span className=\"h2\">{willDie ? \"ðŸ˜µ\" : \"ðŸ™‚\"}</span>\n                </div>\n              </button>\n            </div>\n          ))}\n        </div>\n        <div className=\"p2 rounded results\">\n          <div>\n            I think <strong>{fallen.length}</strong> main{\" \"}\n            {fallen.length === 1 ? \"character is\" : \"characters are\"} going to die in the next GoT\n            episode...\n          </div>\n          {fallen.length > 0 && (\n            <div className=\"mt1 flex flex-wrap\">\n              {fallen.map(({ id, name }, i) => (\n                <span key={id} className=\"mr05 flex\">\n                  <span className=\"flex-inline items-center\">\n                    <img className=\"mr01\" src={imgUrl(id)} alt=\"\" width={18} height={18} />\n                    <span>{name}</span>\n                  </span>\n                  {i + 1 < fallen.length && <span>,</span>}\n                </span>\n              ))}\n            </div>\n          )}\n          <div className=\"mt1\">\n            <Tippy\n              content=\"The GoT character emojis will show up in your tweet once it's published to Twitter!\"\n              className=\"tooltip\"\n              arrow={true}\n            >\n              <a\n                className=\"bold h6\"\n                rel=\"noopener noreferrer\"\n                target=\"_blank\"\n                href={composeTweet(characters)}\n              >\n                Share on Twitter\n              </a>\n            </Tippy>\n          </div>\n        </div>\n        <footer className=\"mt3 mb2 h6\">\n          <a href=\"/\">The Winterfallen</a> â€¢ Made by{\" \"}\n          <a rel=\"noopener noreferrer\" target=\"_blank\" href=\"https://twitter.com/brensudol\">\n            @brensudol\n          </a>{\" \"}\n          <span className=\"xs-hide\">â€¢ I hope you're having a lovely day</span>\n        </footer>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport \"ace-css/css/ace.min.css\";\nimport \"./index.css\";\n\nimport App from \"./App\";\nimport { urlToParams } from \"./util\";\n\nconst { predictions } = urlToParams(window.location.hash);\n\nReactDOM.render(\n  <App initialPredictions={(predictions || \"\").split(\"\")} />,\n  document.getElementById(\"root\")\n);\n","export const urlToParams = str =>\n  str\n    .slice(1)\n    .split(\"&\")\n    .filter(d => d.length)\n    .reduce((params, hash) => {\n      const [key, val] = hash.split(\"=\");\n      const valGood = val === undefined ? null : decodeURIComponent(val);\n      return Object.assign(params, { [key]: valGood });\n    }, {});\n"],"sourceRoot":""}